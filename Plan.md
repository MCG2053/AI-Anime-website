# 动漫视频播放网站 - 界面美化与操作逻辑规划

## 1. 设计理念

### 1.1 视觉风格定位
- **风格类型**：现代扁平化设计 + 轻量毛玻璃效果
- **设计关键词**：简洁、沉浸、流畅、年轻化
- **目标用户**：动漫爱好者，年龄层 15-35 岁

### 1.2 设计原则
| 原则 | 说明 |
|------|------|
| 一致性 | 统一的视觉语言、交互模式、间距规范 |
| 层次感 | 通过颜色、大小、间距建立视觉层级 |
| 反馈性 | 操作即时反馈，状态清晰可见 |
| 效率性 | 减少操作步骤，提供快捷入口 |
| 沉浸感 | 视频播放时最小化干扰元素 |

---

## 2. 色彩系统

### 2.1 主色调
```
浅色主题：
- 主色：#0ea5e9 (天蓝色) - 品牌色、强调元素
- 背景：#FFFFFF (纯白) - 页面背景
- 次背景：#F8FAFC (灰白) - 卡片背景、分隔区域
- 文字：#1E293B (深灰) - 主要文字
- 次文字：#64748B (中灰) - 辅助文字
- 边框：#E2E8F0 (浅灰) - 分割线、边框

深色主题：
- 主色：#38BDF8 (亮蓝) - 品牌色、强调元素
- 背景：#121212 (深黑) - 页面背景
- 次背景：#1E1E1E (浅黑) - 卡片背景
- 文字：#F1F5F9 (浅白) - 主要文字
- 次文字：#94A3B8 (灰白) - 辅助文字
- 边框：#333333 (深灰) - 分割线、边框
```

### 2.2 功能色
```
成功：#10B981 (绿色) - 操作成功提示
警告：#F59E0B (橙色) - 警告提示
错误：#EF4444 (红色) - 错误提示
信息：#3B82F6 (蓝色) - 信息提示
点赞：#EC4899 (粉色) - 点赞激活态
收藏：#F59E0B (金色) - 收藏激活态
```

### 2.3 渐变色
```
主渐变：linear-gradient(135deg, #0ea5e9 0%, #38bdf8 100%)
背景渐变（深色）：linear-gradient(180deg, #121212 0%, #1a1a2e 100%)
卡片悬浮渐变：linear-gradient(180deg, transparent 0%, rgba(0,0,0,0.8) 100%)
```

---

## 3. 字体规范

### 3.1 字体家族
```css
font-family: 'Inter', 'PingFang SC', 'Microsoft YaHei', system-ui, sans-serif;
```

### 3.2 字号层级
| 用途 | 字号 | 字重 | 行高 |
|------|------|------|------|
| 页面标题 H1 | 32px | 700 | 1.2 |
| 区块标题 H2 | 24px | 600 | 1.3 |
| 小标题 H3 | 18px | 600 | 1.4 |
| 正文 | 14px | 400 | 1.6 |
| 辅助文字 | 12px | 400 | 1.5 |
| 极小文字 | 10px | 400 | 1.4 |

---

## 4. 间距系统

### 4.1 基础单位
基础单位：4px

### 4.2 间距规范
```
xs:  4px   - 极小间距（图标与文字）
sm:  8px   - 小间距（同组元素）
md:  16px  - 中等间距（组件内部）
lg:  24px  - 大间距（组件之间）
xl:  32px  - 超大间距（区块之间）
2xl: 48px  - 巨大间距（页面边距）
```

### 4.3 圆角规范
```
sm:  4px   - 小圆角（标签、徽章）
md:  8px   - 中圆角（按钮、输入框）
lg:  12px  - 大圆角（卡片）
xl:  16px  - 超大圆角（弹窗、大卡片）
full: 9999px - 圆形（头像、圆形按钮）
```

---

## 5. 页面布局规划

### 5.1 整体布局结构
```
┌─────────────────────────────────────────────────────┐
│                    Header (64px)                     │
│  Logo    导航菜单          搜索    主题切换    用户   │
├─────────────────────────────────────────────────────┤
│                                                     │
│                                                     │
│                   Main Content                       │
│                   (min-height: calc(100vh - 200px))  │
│                                                     │
│                                                     │
├─────────────────────────────────────────────────────┤
│                    Footer (136px)                    │
│              链接导航 | 版权信息                       │
└─────────────────────────────────────────────────────┘
```

### 5.2 响应式断点
```
xs:  0 - 639px     (手机竖屏)
sm:  640px - 767px   (手机横屏/小平板)
md:  768px - 1023px  (平板竖屏)
lg:  1024px - 1279px (平板横屏/小桌面)
xl:  1280px - 1535px (桌面)
2xl: 1536px+         (大屏桌面)
```

---

## 6. 页面详细设计

### 6.1 首页 (Home)

#### 布局结构
```
┌──────────────────────────────────────────────────────────┐
│                        Header                             │
├──────────────────────────────────────────────────────────┤
│  ┌────────────────────────────────────────────────────┐  │
│  │              Banner 轮播区 (可选)                    │  │
│  │         展示热门/推荐动漫，自动轮播                   │  │
│  └────────────────────────────────────────────────────┘  │
│                                                          │
│  ┌────────────────────────────────────────────────────┐  │
│  │  筛选栏                                              │  │
│  │  年份 ▼  |  地区 ▼  |  类型 ▼  |  排序 ▼            │  │
│  └────────────────────────────────────────────────────┘  │
│                                                          │
│  ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐          │
│  │      │ │      │ │      │ │      │ │      │          │
│  │ 视频 │ │ 视频 │ │ 视频 │ │ 视频 │ │ 视频 │          │
│  │ 卡片 │ │ 卡片 │ │ 卡片 │ │ 卡片 │ │ 卡片 │          │
│  │      │ │      │ │      │ │      │ │      │          │
│  └──────┘ └──────┘ └──────┘ └──────┘ └──────┘          │
│  ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐          │
│  │      │ │      │ │      │ │      │ │      │          │
│  │ 视频 │ │ 视频 │ │ 视频 │ │ 视频 │ │ 视频 │          │
│  │ 卡片 │ │ 卡片 │ │ 卡片 │ │ 卡片 │ │ 卡片 │          │
│  └──────┘ └──────┘ └──────┘ └──────┘ └──────┘          │
│                                                          │
│              [ 加载更多 ] 或 无限滚动                     │
│                                                          │
├──────────────────────────────────────────────────────────┤
│                        Footer                            │
└──────────────────────────────────────────────────────────┘
```

#### 视频卡片设计
```
┌─────────────────┐
│                 │
│     封面图片     │  ← 比例 3:4
│                 │
│  ┌───────────┐  │
│  │ 更新至第X话 │  │  ← 左下角标签
│  └───────────┘  │
│                 │
├─────────────────┤
│ 动漫标题（最多两行）│  ← 字号14px，行高1.4
├─────────────────┤
│ 👁 123.4万  2024 │  ← 播放量 + 年份
└─────────────────┘

悬浮效果：
- 卡片上移 4px
- 阴影加深
- 封面放大 1.05 倍
```

### 6.2 登录页 (Login)

#### 布局结构
```
┌──────────────────────────────────────────────────────────┐
│                                                          │
│                                                          │
│              ┌─────────────────────┐                     │
│              │                     │                     │
│              │    Anime Video      │  ← Logo + 标题      │
│              │    登录您的账户      │                     │
│              │                     │                     │
│              │  ┌───────────────┐  │                     │
│              │  │ 📧 邮箱       │  │                     │
│              │  └───────────────┘  │                     │
│              │                     │                     │
│              │  ┌───────────────┐  │                     │
│              │  │ 🔒 密码       │  │                     │
│              │  └───────────────┘  │                     │
│              │                     │                     │
│              │  [    登 录    ]    │  ← 主按钮           │
│              │                     │                     │
│              │  ─────────────────  │                     │
│              │  测试账户提示        │                     │
│              │                     │                     │
│              └─────────────────────┘                     │
│                                                          │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

#### 交互细节
- 输入框聚焦时：边框变为主色，显示聚焦动画
- 密码输入框：显示/隐藏密码切换按钮
- 登录按钮：点击后显示 loading 状态
- 表单验证：实时验证，错误信息显示在输入框下方

### 6.3 视频详情页 (VideoDetail)

#### 布局结构
```
┌──────────────────────────────────────────────────────────┐
│                        Header                             │
├──────────────────────────────────────────────────────────┤
│                                                          │
│  ┌──────────────────────────────────┐  ┌──────────────┐ │
│  │                                  │  │              │ │
│  │          视频播放器               │  │  相关推荐    │ │
│  │          (16:9 比例)              │  │              │ │
│  │                                  │  │  ┌────────┐  │ │
│  │                                  │  │  │视频卡片│  │ │
│  └──────────────────────────────────┘  │  └────────┘  │ │
│                                        │  ┌────────┐  │ │
│  ┌──────────────────────────────────┐  │  │视频卡片│  │ │
│  │  弹幕发送区                       │  │  └────────┘  │ │
│  │  [输入框] [颜色] [位置] [发送]    │  │  ...        │ │
│  └──────────────────────────────────┘  └──────────────┘ │
│                                                          │
│  ┌──────────────────────────────────┐                    │
│  │  视频标题                         │                    │
│  │  👁 播放量  📅 年份  🌍 地区       │                    │
│  │  [❤ 点赞] [⭐ 收藏] [↗ 分享]     │                    │
│  │                                  │                    │
│  │  视频简介...                      │                    │
│  │  [标签] [标签] [标签]             │                    │
│  └──────────────────────────────────┘                    │
│                                                          │
│  ┌──────────────────────────────────┐                    │
│  │  [选集] [评论]                    │  ← Tab 切换       │
│  ├──────────────────────────────────┤                    │
│  │  选集：                          │                    │
│  │  [1] [2] [3] [4] [5] [6] ...     │                    │
│  │                                  │                    │
│  │  评论：                          │                    │
│  │  ┌────────────────────────────┐  │                    │
│  │  │ 👤 用户名                   │  │                    │
│  │  │ 评论内容...                │  │                    │
│  │  │ 👍 12  回复                │  │                    │
│  │  └────────────────────────────┘  │                    │
│  └──────────────────────────────────┘                    │
│                                                          │
├──────────────────────────────────────────────────────────┤
│                        Footer                            │
└──────────────────────────────────────────────────────────┘
```

#### 播放器功能
```
控制栏功能：
├── 播放/暂停 (空格键)
├── 进度条 (可拖拽，显示预览缩略图)
├── 时间显示 (当前/总时长)
├── 音量控制 (滑块 + 静音切换)
├── 弹幕开关
├── 弹幕设置 (透明度、速度、区域)
├── 倍速播放 (0.5x, 0.75x, 1x, 1.25x, 1.5x, 2x)
├── 画质切换 (高清、超清、蓝光)
├── 画中画模式
├── 全屏播放 (F键)
└── 网页全屏
```

### 6.4 搜索页 (Search)

#### 布局结构
```
┌──────────────────────────────────────────────────────────┐
│                        Header                             │
├──────────────────────────────────────────────────────────┤
│                                                          │
│  ┌────────────────────────────────────────────────────┐  │
│  │  [搜索输入框...........................] [搜索]    │  │
│  └────────────────────────────────────────────────────┘  │
│                                                          │
│  搜索 "关键词" 的结果，共 X 个                            │
│                                                          │
│  ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐          │
│  │      │ │      │ │      │ │      │ │      │          │
│  │ 视频 │ │ 视频 │ │ 视频 │ │ 视频 │ │ 视频 │          │
│  │ 卡片 │ │ 卡片 │ │ 卡片 │ │ 卡片 │ │ 卡片 │          │
│  └──────┘ └──────┘ └──────┘ └──────┘ └──────┘          │
│                                                          │
├──────────────────────────────────────────────────────────┤
│                        Footer                            │
└──────────────────────────────────────────────────────────┘
```

### 6.5 个人中心 (User)

#### 布局结构
```
┌──────────────────────────────────────────────────────────┐
│                        Header                             │
├──────────────────────────────────────────────────────────┤
│                                                          │
│  ┌────────────────────────────────────────────────────┐  │
│  │  ┌────┐                                            │  │
│  │  │    │  用户名                                    │  │
│  │  │ 头 │  user@example.com                          │  │
│  │  │ 像 │  注册时间: 2024-01-01                      │  │
│  │  │    │                                            │  │
│  │  └────┘                                            │  │
│  └────────────────────────────────────────────────────┘  │
│                                                          │
│  ┌────────────────────────────────────────────────────┐  │
│  │  [我的收藏] [观看历史] [账号设置]                    │  │
│  ├────────────────────────────────────────────────────┤  │
│  │                                                    │  │
│  │  ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐              │  │
│  │  │      │ │      │ │      │ │      │              │  │
│  │  │ 视频 │ │ 视频 │ │ 视频 │ │ 视频 │              │  │
│  │  │ 卡片 │ │ 卡片 │ │ 卡片 │ │ 卡片 │              │  │
│  │  └──────┘ └──────┘ └──────┘ └──────┘              │  │
│  │                                                    │  │
│  └────────────────────────────────────────────────────┘  │
│                                                          │
├──────────────────────────────────────────────────────────┤
│                        Footer                            │
└──────────────────────────────────────────────────────────┘
```

---

## 7. 组件设计规范

### 7.1 按钮组件

#### 类型
```
主要按钮 (Primary)
┌─────────────┐
│   按钮文字   │  背景：主色，文字：白色
└─────────────┘

次要按钮 (Secondary)
┌─────────────┐
│   按钮文字   │  背景：灰色，文字：深色
└─────────────┘

幽灵按钮 (Ghost)
┌─────────────┐
│   按钮文字   │  背景：透明，边框：灰色
└─────────────┘

文字按钮 (Text)
   按钮文字     无背景无边框
```

#### 状态
```
默认态 → 悬浮态 (背景加深) → 按下态 (背景再加深) → 禁用态 (半透明)
```

#### 尺寸
```
Small:  高度 28px, 内边距 8px 12px, 字号 12px
Medium: 高度 36px, 内边距 12px 16px, 字号 14px
Large:  高度 44px, 内边距 16px 24px, 字号 16px
```

### 7.2 输入框组件

```
默认态：
┌─────────────────────────────┐
│ placeholder 文字             │  边框：灰色
└─────────────────────────────┘

聚焦态：
┌─────────────────────────────┐
│ 输入内容                     │  边框：主色，阴影
└─────────────────────────────┘

错误态：
┌─────────────────────────────┐
│ 输入内容                     │  边框：红色
└─────────────────────────────┘
⚠ 错误提示信息
```

### 7.3 卡片组件

```
基础卡片：
┌─────────────────────┐
│                     │
│       内容区        │  背景：白色/深色卡片色
│                     │  圆角：12px
│                     │  阴影：柔和阴影
└─────────────────────┘

悬浮效果：
- transform: translateY(-4px)
- box-shadow: 加深
- transition: 0.3s ease
```

### 7.4 标签组件

```
默认标签：  [ 标签文字 ]  背景：浅灰，圆角：4px
激活标签：  [ 标签文字 ]  背景：主色，文字：白色
可关闭标签： [ 标签文字 × ]
```

### 7.5 头像组件

```
尺寸：
- Small:  24px
- Medium: 32px
- Large:  48px
- XLarge: 64px

样式：
- 圆形 (round)
- 圆角方形 (rounded)
```

---

## 8. 动效设计

### 8.1 过渡动画

#### 页面切换
```css
/* 淡入淡出 */
.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.2s ease;
}
.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

/* 滑动切换 */
.slide-enter-active,
.slide-leave-active {
  transition: transform 0.3s ease;
}
.slide-enter-from {
  transform: translateX(100%);
}
.slide-leave-to {
  transform: translateX(-100%);
}
```

#### 元素动画
```css
/* 卡片悬浮 */
.card {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
}

/* 按钮点击 */
.button:active {
  transform: scale(0.98);
}

/* 加载动画 */
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* 骨架屏闪烁 */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
```

### 8.2 交互反馈

| 操作 | 反馈 |
|------|------|
| 点击按钮 | 按钮下沉 + 颜色变化 |
| 提交表单 | Loading 动画 + 禁用按钮 |
| 操作成功 | Toast 提示 (绿色) |
| 操作失败 | Toast 提示 (红色) |
| 删除操作 | 二次确认弹窗 |
| 复制成功 | Tooltip 提示 "已复制" |

---

## 9. 操作逻辑流程

### 9.1 用户认证流程

```
┌─────────────────────────────────────────────────────────────┐
│                       登录流程                               │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  用户访问需要登录的页面                                       │
│         │                                                   │
│         ▼                                                   │
│  ┌─────────────┐    否     ┌─────────────┐                 │
│  │ 已登录？    │ ────────→ │ 跳转登录页   │                 │
│  └─────────────┘           └─────────────┘                 │
│         │是                       │                         │
│         ▼                         ▼                         │
│  ┌─────────────┐           ┌─────────────┐                 │
│  │ 正常访问    │           │ 输入邮箱密码 │                 │
│  └─────────────┘           └─────────────┘                 │
│                                   │                         │
│                                   ▼                         │
│                           ┌─────────────┐                  │
│                           │ 表单验证     │                  │
│                           └─────────────┘                  │
│                              │        │                     │
│                           失败│        │成功                │
│                              ▼        ▼                     │
│                        ┌────────┐ ┌─────────────┐          │
│                        │显示错误│ │ 调用登录API  │          │
│                        └────────┘ └─────────────┘          │
│                                         │                   │
│                              ┌──────────┴──────────┐       │
│                              │                     │       │
│                           成功│                     │失败   │
│                              ▼                     ▼       │
│                       ┌─────────────┐      ┌────────────┐  │
│                       │存储Token    │      │显示错误信息│  │
│                       │更新用户状态 │      └────────────┘  │
│                       └─────────────┘                       │
│                              │                              │
│                              ▼                              │
│                       ┌─────────────┐                      │
│                       │跳转目标页面 │                      │
│                       └─────────────┘                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 9.2 视频浏览流程

```
┌─────────────────────────────────────────────────────────────┐
│                      视频浏览流程                            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  进入首页                                                    │
│      │                                                      │
│      ▼                                                      │
│  ┌─────────────────────────────────────────┐               │
│  │ 选择分区 (推荐/番剧/国创/剧场版/OVA)     │               │
│  └─────────────────────────────────────────┘               │
│      │                                                      │
│      ▼                                                      │
│  ┌─────────────────────────────────────────┐               │
│  │ 设置筛选条件 (年份/地区/类型)            │               │
│  └─────────────────────────────────────────┘               │
│      │                                                      │
│      ▼                                                      │
│  ┌─────────────────────────────────────────┐               │
│  │ 加载视频列表 (显示 Loading 状态)         │               │
│  └─────────────────────────────────────────┘               │
│      │                                                      │
│      ▼                                                      │
│  ┌─────────────────────────────────────────┐               │
│  │ 展示视频卡片网格                         │               │
│  └─────────────────────────────────────────┘               │
│      │                                                      │
│      ├──→ 滚动加载更多 (无限滚动)                           │
│      │                                                      │
│      ├──→ 修改筛选条件 → 重新加载                           │
│      │                                                      │
│      └──→ 点击视频卡片                                       │
│              │                                              │
│              ▼                                              │
│         跳转视频详情页                                       │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 9.3 视频播放流程

```
┌─────────────────────────────────────────────────────────────┐
│                      视频播放流程                            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  进入视频详情页                                              │
│      │                                                      │
│      ▼                                                      │
│  ┌─────────────────────────────────────────┐               │
│  │ 加载视频信息 (标题、简介、播放量等)       │               │
│  └─────────────────────────────────────────┘               │
│      │                                                      │
│      ▼                                                      │
│  ┌─────────────────────────────────────────┐               │
│  │ 初始化播放器                             │               │
│  │ - 设置视频源                             │               │
│  │ - 加载弹幕数据                           │               │
│  │ - 绑定事件监听                           │               │
│  └─────────────────────────────────────────┘               │
│      │                                                      │
│      ▼                                                      │
│  ┌─────────────────────────────────────────┐               │
│  │ 用户操作                                 │               │
│  ├─────────────────────────────────────────┤               │
│  │ ▶ 播放/暂停                              │               │
│  │ ⏩ 调整进度                              │               │
│  │ 🔊 调整音量                              │               │
│  │ 🚀 切换倍速                              │               │
│  │ 📺 切换画质                              │               │
│  │ 💬 弹幕设置                              │               │
│  │ 📺 全屏/画中画                           │               │
│  └─────────────────────────────────────────┘               │
│      │                                                      │
│      ├──→ 发送弹幕                                          │
│      │      │                                               │
│      │      ├──→ 未登录 → 提示登录                          │
│      │      │                                               │
│      │      └──→ 已登录 → 发送弹幕 → 显示在播放器            │
│      │                                                      │
│      ├──→ 发表评论                                          │
│      │      │                                               │
│      │      ├──→ 未登录 → 提示登录                          │
│      │      │                                               │
│      │      └──→ 已登录 → 发表评论 → 刷新评论列表            │
│      │                                                      │
│      ├──→ 点赞/收藏                                         │
│      │      │                                               │
│      │      └──→ 更新状态 + 数字动画                         │
│      │                                                      │
│      └──→ 切换选集                                          │
│             │                                               │
│             └──→ 重新加载视频源                              │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 9.4 主题切换流程

```
┌─────────────────────────────────────────────────────────────┐
│                      主题切换流程                            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  页面加载                                                    │
│      │                                                      │
│      ▼                                                      │
│  ┌─────────────────────────────────────────┐               │
│  │ 检查 localStorage 中的主题设置           │               │
│  └─────────────────────────────────────────┘               │
│      │                                                      │
│      ├──→ 有存储 → 应用存储的主题                           │
│      │                                                      │
│      └──→ 无存储 → 检测系统主题偏好                          │
│                    │                                        │
│                    ├──→ 系统深色 → 应用深色主题              │
│                    │                                        │
│                    └──→ 系统浅色 → 应用浅色主题              │
│                                                             │
│  用户点击主题切换按钮                                        │
│      │                                                      │
│      ▼                                                      │
│  ┌─────────────────────────────────────────┐               │
│  │ 切换主题模式 (light ↔ dark)              │               │
│  └─────────────────────────────────────────┘               │
│      │                                                      │
│      ▼                                                      │
│  ┌─────────────────────────────────────────┐               │
│  │ 更新 HTML 根元素的 class                 │               │
│  │ (添加/移除 'dark' class)                 │               │
│  └─────────────────────────────────────────┘               │
│      │                                                      │
│      ▼                                                      │
│  ┌─────────────────────────────────────────┐               │
│  │ 持久化到 localStorage                    │               │
│  └─────────────────────────────────────────┘               │
│      │                                                      │
│      ▼                                                      │
│  ┌─────────────────────────────────────────┐               │
│  │ 更新 Pinia store 状态                    │               │
│  └─────────────────────────────────────────┘               │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 9.5 搜索流程

```
┌─────────────────────────────────────────────────────────────┐
│                       搜索流程                               │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  用户输入搜索关键词                                          │
│      │                                                      │
│      ▼                                                      │
│  ┌─────────────────────────────────────────┐               │
│  │ 防抖处理 (300ms 延迟)                    │               │
│  └─────────────────────────────────────────┘               │
│      │                                                      │
│      ▼                                                      │
│  ┌─────────────────────────────────────────┐               │
│  │ 按回车或点击搜索按钮                     │               │
│  └─────────────────────────────────────────┘               │
│      │                                                      │
│      ▼                                                      │
│  ┌─────────────────────────────────────────┐               │
│  │ 跳转到搜索页 (带查询参数)                │               │
│  └─────────────────────────────────────────┘               │
│      │                                                      │
│      ▼                                                      │
│  ┌─────────────────────────────────────────┐               │
│  │ 调用搜索 API                             │               │
│  └─────────────────────────────────────────┘               │
│      │                                                      │
│      ▼                                                      │
│  ┌─────────────────────────────────────────┐               │
│  │ 展示搜索结果                             │               │
│  │ - 显示关键词                             │               │
│  │ - 显示结果数量                           │               │
│  │ - 视频卡片列表                           │               │
│  └─────────────────────────────────────────┘               │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 10. 性能优化策略

### 10.1 图片优化
```
- 使用 WebP 格式（兼容情况下）
- 懒加载 (lazy loading)
- 响应式图片 (srcset)
- 图片占位符 (低质量模糊占位)
```

### 10.2 代码优化
```
- 路由懒加载
- 组件异步加载
- 第三方库按需引入
- 代码分割 (Code Splitting)
```

### 10.3 渲染优化
```
- 虚拟列表 (长列表)
- 防抖/节流
- CSS 硬件加速
- 避免强制同步布局
```

### 10.4 缓存策略
```
- 静态资源缓存
- API 响应缓存
- LocalStorage 缓存用户数据
```

---

## 11. 无障碍设计

### 11.1 键盘导航
```
- Tab 键顺序导航
- Enter 键激活
- Esc 键关闭弹窗
- 方向键控制播放进度
```

### 11.2 屏幕阅读器支持
```
- 语义化 HTML 标签
- ARIA 属性标注
- 图片 alt 属性
- 表单 label 关联
```

### 11.3 视觉辅助
```
- 足够的颜色对比度 (WCAG AA)
- 焦点状态明显
- 不依赖颜色传达信息
- 可调整字体大小
```

---

## 12. 实施计划

### 12.1 阶段一：基础美化 ✅ 已完成 (2026-02-14)
- [x] 完善色彩系统 CSS 变量
- [x] 统一组件样式
- [x] 添加基础过渡动画
- [x] 优化卡片悬浮效果

### 12.2 阶段二：交互优化 ✅ 已完成 (2026-02-14)
- [x] 添加加载状态动画
- [x] 实现骨架屏组件
- [x] 优化表单交互反馈
- [x] 添加 Toast 提示组件

### 12.3 阶段三：高级动效 ✅ 已完成 (2026-02-14)
- [x] 页面切换动画
- [x] 列表项入场动画
- [x] 点赞/收藏动画效果
- [ ] 播放器控制栏动画 (待优化)

### 12.4 阶段四：响应式适配 (预计 2 天)
- [ ] 移动端布局适配
- [ ] 平板端布局适配
- [ ] 触摸交互优化
- [ ] 移动端播放器优化

---

## 13. 验收标准

### 13.1 视觉验收
- [ ] 所有页面符合设计稿
- [ ] 主题切换正常工作
- [ ] 响应式布局正确
- [ ] 图标、图片清晰

### 13.2 交互验收
- [ ] 所有按钮可点击
- [ ] 表单验证正确
- [ ] 加载状态显示
- [ ] 错误提示清晰

### 13.3 性能验收
- [ ] 首屏加载 < 3s
- [ ] 页面切换流畅
- [ ] 无明显卡顿
- [ ] 内存占用合理

### 13.4 兼容性验收
- [ ] Chrome 最新版
- [ ] Firefox 最新版
- [ ] Safari 最新版
- [ ] Edge 最新版

---

*文档版本: v1.1.0*
*更新日期: 2026-02-14*
*负责人: Development Team*

---

## 14. 美化实施记录

### 14.1 已完成文件

| 文件路径 | 说明 |
|---------|------|
| `src/styles/variables.css` | 完善色彩系统，添加主色调、功能色、间距、字体等变量 |
| `src/styles/global.css` | 统一组件样式，添加按钮、卡片、输入框、标签等全局样式 |
| `src/components/common/VideoCard.vue` | 视频卡片组件，带悬浮效果和动画 |
| `src/components/common/Toast.vue` | Toast 提示组件，支持多种类型 |
| `src/components/common/Skeleton.vue` | 骨架屏组件，支持多种类型 |
| `src/components/common/ActionBtn.vue` | 交互按钮组件，带点赞/收藏动画 |
| `src/views/Home.vue` | 首页美化，添加列表入场动画 |
| `src/views/Login.vue` | 登录页美化，优化表单交互 |
| `src/components/layout/AppHeader.vue` | 导航栏美化 |
| `src/components/layout/AppFooter.vue` | 页脚美化 |
| `src/App.vue` | 添加页面切换动画 |

### 14.2 新增动画效果

- **页面切换动画**: fade、slide-up、scale 三种过渡效果
- **列表入场动画**: fadeInUp 动画，带延迟效果
- **卡片悬浮效果**: 上移 + 阴影加深 + 图片放大
- **按钮交互**: 点击缩放、悬浮上移
- **点赞/收藏动画**: heartBeat 和 bounce 动画
- **加载动画**: spin 旋转动画
- **骨架屏闪烁**: shimmer 动画

### 14.3 CSS 变量扩展

新增变量类别:
- 主色调完整色阶 (50-900)
- 功能色 (success, warning, error, info)
- 特殊色 (like, collect)
- 间距系统 (xs - 2xl)
- 字体大小系统 (xs - 3xl)
- 行高系统
- z-index 层级系统

---

## 15. 分区切换功能实施记录

### 15.1 功能概述

实现了完整的分区切换功能，包括：
- 顶部选项卡式分区导航
- 周更表特殊分区
- 分区内容联动
- 平滑过渡动画

### 15.2 已完成文件

| 文件路径 | 说明 |
|---------|------|
| `src/stores/video.ts` | 扩展状态管理，添加周更表数据和分区切换逻辑 |
| `src/components/common/CategoryTabs.vue` | 分区切换选项卡组件，带滑动指示器动画 |
| `src/components/common/WeekSchedule.vue` | 周更表组件，按星期展示更新内容 |
| `src/views/Home.vue` | 集成分区切换和周更表功能 |
| `src/types/index.ts` | 扩展 Video 类型，添加周更表相关字段 |
| `src/services/mock/index.ts` | 添加周更表 Mock 数据生成 |

### 15.3 分区列表

| 分区名称 | Slug | 图标 | 说明 |
|---------|------|------|------|
| 推荐 | recommend | home | 默认分区，展示推荐内容 |
| 番剧 | anime | play | 日本番剧 |
| 国创 | chinese | star | 国产动漫 |
| 剧场版 | movie | film | 剧场版动画 |
| 周更表 | schedule | calendar | 按星期展示更新内容 |
| OVA | ova | disc | OVA 动画 |

### 15.4 周更表功能

- 按周一至周日展示每日更新内容
- 自动高亮当天
- 快速跳转到指定星期
- 显示更新时间和集数
- 响应式布局适配

### 15.5 动画效果

- **选项卡切换**: 滑动指示器动画
- **分区内容切换**: 淡入淡出效果
- **周更表滚动**: 平滑滚动到指定日期
- **卡片悬浮**: 上移 + 阴影效果

---

## 16. UI 优化记录 (2026-02-14)

### 16.1 主题切换按钮优化 ✅

- **删除描边**: 移除原有边框样式，采用更简洁的设计
- **添加动画**: 
  - 滑块滑动动画
  - 图标旋转淡入动画
  - 悬浮缩放效果
- **修复黑夜模式显示问题**: 
  - 滑块在暗色模式下使用主题色渐变背景
  - 轨道添加微妙的渐变效果
  - 确保图标颜色在两种模式下都清晰可见

### 16.2 暗色模式组件颜色修复 ✅

为 Naive UI 组件添加暗色模式样式覆盖：
- **输入框**: 修复文字颜色、占位符颜色、边框颜色
- **选择器**: 修复文字颜色、下拉菜单背景、选项样式
- **卡片**: 修复背景色、文字颜色、边框颜色
- **标签页**: 修复标签文字颜色、激活状态颜色
- **下拉菜单**: 修复背景色、选项悬浮效果
- **按钮**: 修复文字颜色

### 16.3 分区顺序调整 ✅

将分区切换中的 OVA 与周更表位置对调：
- 调整后顺序: 推荐 → 番剧 → 国创 → 剧场版 → OVA → 周更表

### 16.4 周更表样式优化 ✅

- **取消渐变背景**: 移除当前日期区块的渐变背景色
- **保留描边效果**: 使用 2px 主题色边框高亮当前日期
- **简化视觉**: 使界面更加简洁统一

### 16.5 修改文件列表

| 文件路径 | 修改内容 |
|---------|---------|
| `src/components/theme/ThemeToggle.vue` | 重构主题切换按钮，添加滑动动画 |
| `src/styles/global.css` | 添加 Naive UI 组件暗色模式样式覆盖 |
| `src/stores/video.ts` | 调整分区顺序 |
| `src/components/common/WeekSchedule.vue` | 简化当前日期样式 |

---

## 17. UI 优化记录 (2026-02-14 续)

### 17.1 暗色模式输入框/选择器颜色修复 ✅

修复 `n-input-wrapper` 和 `filter-select` 组件在暗色主题下的颜色问题：
- **输入框背景**: 使用 `--bg-secondary` 替代白色背景
- **文字颜色**: 确保输入文字使用 `--text-color`
- **边框颜色**: 正确显示默认、悬浮、聚焦状态的边框
- **选择器**: 修复下拉选择器的背景和文字颜色

### 17.2 分区切换按钮样式优化 ✅

- **删除高亮背景**: 移除激活状态下的背景色填充
- **仅保留下横线**: 指示器仅显示在文字下方，宽度与文字对齐
- **简化设计**: 使用 2px 纯色横线替代渐变效果

### 17.3 修改文件列表

| 文件路径 | 修改内容 |
|---------|---------|
| `src/styles/global.css` | 添加 n-input-wrapper、filter-select 暗色模式样式 |
| `src/components/common/CategoryTabs.vue` | 移除激活背景，优化指示器定位 |

---

## 18. 搜索框样式优化 (2026-02-14)

### 18.1 功能概述 ✅

重构搜索框交互体验，实现点击后弹出居中放大搜索框并背景虚化效果：
- **点击触发**: 点击导航栏搜索框弹出搜索模态框
- **居中放大**: 搜索框居中显示于页面上端
- **背景虚化**: 使用 `backdrop-filter: blur()` 实现背景模糊效果
- **热门搜索**: 显示热门搜索标签，点击可直接搜索
- **键盘支持**: ESC 关闭搜索框，Enter 执行搜索

### 18.2 技术实现

- 使用 `Teleport` 将搜索模态框渲染到 `body` 元素
- 使用 Vue `Transition` 组件实现淡入淡出动画
- 使用 `backdrop-filter: blur(8px)` 实现背景虚化
- 监听键盘事件处理 ESC 关闭
- 禁止背景滚动 (`document.body.style.overflow = 'hidden'`)

### 18.3 修改文件

| 文件路径 | 修改内容 |
|---------|---------|
| `src/components/layout/AppHeader.vue` | 重构搜索框，添加搜索模态框组件 |

---

## 19. 周更表与搜索框优化 (2026-02-14)

### 19.1 周更表显示逻辑优化 ✅

调整周更表显示逻辑，选择对应时间后仅显示当前时间的内容：
- **单日显示**: 选择某一天后，仅显示该天的更新内容
- **简化交互**: 移除滚动定位，改为直接切换显示
- **默认选中**: 默认选中今天，显示今天的更新内容

### 19.2 搜索框弹出样式优化 ✅

调整搜索框弹出样式：
- **删除取消文字**: 移除搜索框右侧的"取消"按钮
- **搜索建议**: 键入内容后在搜索框下方弹出匹配建议
- **简化布局**: 搜索框独立显示，无额外按钮

### 19.3 搜索页面头部优化 ✅

- **隐藏头部搜索框**: 在搜索界面下隐藏网站头部的搜索框
- **仅保留页内搜索**: 搜索页面使用页面内的搜索框

### 19.4 修改文件

| 文件路径 | 修改内容 |
|---------|---------|
| `src/components/common/WeekSchedule.vue` | 调整显示逻辑，单日显示 |
| `src/components/layout/AppHeader.vue` | 优化搜索框样式，添加搜索建议，隐藏搜索页面头部搜索框 |

---

## 20. 搜索框与搜索界面优化 (2026-02-14)

### 20.1 搜索框弹出样式优化 ✅

- **删除热门推荐**: 移除搜索框弹出时的热门搜索标签区域
- **仅保留搜索框**: 搜索模态框仅显示搜索输入框
- **搜索建议**: 键入内容后在搜索框下方弹出匹配建议
- **简化设计**: 更简洁的搜索体验

### 20.2 搜索界面美化 ✅

对搜索页面进行全面美化：
- **渐变头部**: 搜索框区域使用主题色渐变背景
- **热门搜索**: 未搜索时显示热门搜索标签，点击可直接搜索
- **结果展示**: 优化搜索结果信息展示，高亮关键词
- **空状态**: 自定义空状态设计，显示搜索图标和提示文字
- **响应式布局**: 适配不同屏幕尺寸的网格布局

### 20.3 修改文件

| 文件路径 | 修改内容 |
|---------|---------|
| `src/components/layout/AppHeader.vue` | 删除热门推荐，仅保留搜索框 |
| `src/views/Search.vue` | 搜索界面全面美化 |

---

## 21. 界面布局重构 (2026-02-14)

### 21.1 搜索页面样式优化 ✅

- **删除渐变背景**: 移除 search-page header 的渐变背景，与整体背景统一
- **重新设计搜索框**: 
  - 左侧为搜索图标
  - 右侧为输入区域
  - 输入区域下方为横线，横线上方是搜索内容
  - 聚焦时横线变为主题色

### 21.2 分区切换集成到头部 ✅

- **删除 CategoryTabs 组件**: 从 Home 页面移除独立的分区切换组件
- **集成到网页头部**: 将分区切换按钮集合到网页 head 部分
- **简化布局**: 头部显示 Logo + 分区切换 + 搜索/用户操作

### 21.3 搜索框弹出样式优化 ✅

- **圆角样式**: 使用 `border-radius: var(--radius-full)` 实现完全圆角
- **尺寸调整**: 弹出搜索框与头部搜索按钮大小保持一致风格
- **最大宽度**: 限制为 400px，更加紧凑
- **搜索建议**: 在搜索框下方显示匹配建议

### 21.4 修改文件

| 文件路径 | 修改内容 |
|---------|---------|
| `src/views/Search.vue` | 删除渐变背景，重新设计搜索框样式 |
| `src/views/Home.vue` | 删除 CategoryTabs 组件引用 |
| `src/components/layout/AppHeader.vue` | 集成分区切换，优化搜索框弹出样式 |
